!function(){var t=null,e={inheritAttrs:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]instanceof Object&&e[i]instanceof Object&&"function"!=typeof e[i]?this.inheritAttrs(t[i],e[i]):t[i]=e[i])},createMerge:function(t,e){var i={};return t&&this.inheritAttrs(i,this.cloneObj(t)),e&&this.inheritAttrs(i,e),i},extend:function(){return t?(Array.prototype.unshift.apply(arguments,[!0,{}]),t.extend.apply(t,arguments)):e.createMerge.apply(this,arguments)},cloneObj:function(t){if(Object(t)!==t)return t;var e=new t.constructor;for(var i in t)t.hasOwnProperty(i)&&(e[i]=this.cloneObj(t[i]));return e},addEvent:function(e,i,n){t?t(e).on(i+".treant",n):e.addEventListener?e.addEventListener(i,n,!1):e.attachEvent?e.attachEvent("on"+i,n):e["on"+i]=n},findEl:function(e,i){if(t){var n=t(e);return i?n.get(0):n}return document.getElementById(e.substring(1))},getOuterHeight:function(i){var n=1;return"function"==typeof i.getBoundingClientRect?i.getBoundingClientRect().height:t?Math.ceil(t(i).outerHeight())+n:Math.ceil(i.clientHeight+e.getStyle(i,"border-top-width",!0)+e.getStyle(i,"border-bottom-width",!0)+e.getStyle(i,"padding-top",!0)+e.getStyle(i,"padding-bottom",!0)+n)},getOuterWidth:function(i){var n=1;return"function"==typeof i.getBoundingClientRect?i.getBoundingClientRect().width:t?Math.ceil(t(i).outerWidth())+n:Math.ceil(i.clientWidth+e.getStyle(i,"border-left-width",!0)+e.getStyle(i,"border-right-width",!0)+e.getStyle(i,"padding-left",!0)+e.getStyle(i,"padding-right",!0)+n)},getStyle:function(t,e,i){var n="";return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(e=e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),n=t.currentStyle[e]),i?parseFloat(n):n},hasClass:function(t,e){return(" "+t.className+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1},toggleClass:function(e,i,n){t?t(e).toggleClass(i,n):n?e.classList.add(i):e.classList.remove(i)},setDimensions:function(e,i,n){t?t(e).width(i).height(n):(e.style.width=i+"px",e.style.height=n+"px")}},i=function(){this.loading=[]};i.prototype={processNode:function(t){for(var e=t.nodeDOM.getElementsByTagName("img"),i=e.length;i--;)this.create(t,e[i])},removeAll:function(t){for(var e=this.loading.length;e--;)this.loading[e]===t&&this.loading.splice(e,1)},create:function(t,i){function n(){r.removeAll(o),t.width=t.nodeDOM.offsetWidth,t.height=t.nodeDOM.offsetHeight}var r=this,o=i.src;if(0!==i.src.indexOf("data:")){if(this.loading.push(o),i.complete)return n();e.addEvent(i,"load",n),e.addEvent(i,"error",n),i.src+="?"+(new Date).getTime()}else n()},isNotLoading:function(){return 0===this.loading.length}};var n={store:[],createTree:function(t){return this.store.push(new r(t,this.store.length)),this.store[this.store.length-1]},get:function(t){return this.store[t]},destroy:function(t){var e=this.get(t);if(e){e._R.remove();for(var i=e.drawArea;i.firstChild;)i.removeChild(i.firstChild);for(var n=i.className.split(" "),r=[],o=0;o<n.length;o++){var s=n[o];"Treant"!=s&&"Treant-loaded"!=s&&r.push(s)}i.style.overflowY="",i.style.overflowX="",i.className=r.join(" "),this.store[t]=null}}},r=function(t,n){this.id=n,this.imageLoader=new i,this.CONFIG=e.extend(r.CONFIG,t.chart),this.drawArea=e.findEl(this.CONFIG.container,!0),this.drawArea.className+=" Treant",this.nodeDB=new o(t.nodeStructure,this),this.connectionStore={}};r.prototype={positionTree:function(t){var e=this;if(this.imageLoader.isNotLoading()){var i=this.root();this.CONFIG.rootOrientation;this.resetLevelData(),this.firstWalk(i,0),this.secondWalk(i,0,0,0),this.positionNodes(),this.CONFIG.animateOnInit&&setTimeout(function(){i.toggleCollapse()},this.CONFIG.animateOnInitDelay),this.loaded||(this.drawArea.className+=" Treant-loaded","[object Function]"===Object.prototype.toString.call(t)&&t(e),e.CONFIG.callback.onTreeLoaded.apply(e,[i]),this.loaded=!0)}else setTimeout(function(){e.positionTree(t)},10)},firstWalk:function(t,e){t.prelim=null,t.modifier=null,this.setNeighbors(t,e),this.calcLevelDim(t,e);var i=t.leftSibling();if(0===t.childrenCount()||e==this.CONFIG.maxDepth)i?t.prelim=i.prelim+i.size()+this.CONFIG.siblingSeparation:t.prelim=0;else{for(var n=0,r=t.childrenCount();r>n;n++)this.firstWalk(t.childAt(n),e+1);var o=t.childrenCenter()-t.size()/2;i?(t.prelim=i.prelim+i.size()+this.CONFIG.siblingSeparation,t.modifier=t.prelim-o,this.apportion(t,e)):t.prelim=o,t.stackParent?t.modifier+=this.nodeDB.get(t.stackChildren[0]).size()/2+t.connStyle.stackIndent:t.stackParentId&&(t.prelim=0)}},apportion:function(t,e){for(var i=t.firstChild(),n=i.leftNeighbor(),r=1,o=this.CONFIG.maxDepth-e;i&&n&&o>=r;){for(var s=0,h=0,a=n,l=i,d=0;r>d;d++)a=a.parent(),l=l.parent(),h+=a.modifier,s+=l.modifier,void 0!==l.stackParent&&(s+=l.size()/2);var c=n.prelim+h+n.size()+this.CONFIG.subTeeSeparation-(i.prelim+s);if(c>0){for(var u=t,f=0;u&&u.id!=a.id;)u=u.leftSibling(),f++;if(u)for(var p=t,g=c/f;p.id!=a.id;)p.prelim+=c,p.modifier+=c,c-=g,p=p.leftSibling()}r++,i=0===i.childrenCount()?t.leftMost(0,r):i.firstChild(),i&&(n=i.leftNeighbor())}},secondWalk:function(t,e,i,n){if(e<=this.CONFIG.maxDepth){var r,o,s=t.prelim+i,h=n,a=this.CONFIG.nodeAlign,l=this.CONFIG.rootOrientation;if("NORTH"==l||"SOUTH"==l?(r=this.levelMaxDim[e].height,o=t.height,t.pseudo&&(t.height=r)):("WEST"==l||"EAST"==l)&&(r=this.levelMaxDim[e].width,o=t.width,t.pseudo&&(t.width=r)),t.X=s,t.pseudo?"NORTH"==l||"WEST"==l?t.Y=h:("SOUTH"==l||"EAST"==l)&&(t.Y=h+(r-o)):t.Y="CENTER"==a?h+(r-o)/2:"TOP"==a?h+(r-o):h,"WEST"==l||"EAST"==l){var d=t.X;t.X=t.Y,t.Y=d}"SOUTH"==l?t.Y=-t.Y-o:"EAST"==l&&(t.X=-t.X-o),0!==t.childrenCount()&&(0===t.id&&this.CONFIG.hideRootNode?this.secondWalk(t.firstChild(),e+1,i+t.modifier,n):this.secondWalk(t.firstChild(),e+1,i+t.modifier,n+r+this.CONFIG.levelSeparation)),t.rightSibling()&&this.secondWalk(t.rightSibling(),e,i,n)}},positionNodes:function(){var t=this,e={x:t.nodeDB.getMinMaxCoord("X",null,null),y:t.nodeDB.getMinMaxCoord("Y",null,null)},i=e.x.max-e.x.min,n=e.y.max-e.y.min,r={x:e.x.max-i/2,y:e.y.max-n/2};this.handleOverflow(i,n);var o,s,h,a={x:t.drawArea.clientWidth/2,y:t.drawArea.clientHeight/2},l=a.x-r.x,d=a.y-r.y,c=e.x.min+l<=0?Math.abs(e.x.min):0,u=e.y.min+d<=0?Math.abs(e.y.min):0;for(o=0,s=this.nodeDB.db.length;s>o;o++)if(h=this.nodeDB.get(o),t.CONFIG.callback.onBeforePositionNode.apply(t,[h,o,a,r]),0===h.id&&this.CONFIG.hideRootNode)t.CONFIG.callback.onAfterPositionNode.apply(t,[h,o,a,r]);else{h.X+=c+(i<this.drawArea.clientWidth?l:this.CONFIG.padding),h.Y+=u+(n<this.drawArea.clientHeight?d:this.CONFIG.padding);var f=h.collapsedParent(),p=null;f?(p=f.connectorPoint(!0),h.hide(p)):h.positioned?h.show():(h.nodeDOM.style.left=h.X+"px",h.nodeDOM.style.top=h.Y+"px",h.positioned=!0),0===h.id||0===h.parent().id&&this.CONFIG.hideRootNode?!this.CONFIG.hideRootNode&&h.drawLineThrough&&h.drawLineThroughMe():this.setConnectionToParent(h,p),t.CONFIG.callback.onAfterPositionNode.apply(t,[h,o,a,r])}},handleOverflow:function(i,n){var r=i<this.drawArea.clientWidth?this.drawArea.clientWidth:i+2*this.CONFIG.padding,o=n<this.drawArea.clientHeight?this.drawArea.clientHeight:n+2*this.CONFIG.padding;if(this._R?this._R.setSize(r,o):this._R=Raphael(this.drawArea,r,o),"resize"==this.CONFIG.scrollbar)e.setDimensions(this.drawArea,r,o);else if(void 0==t||"native"==this.CONFIG.scrollbar)this.drawArea.clientWidth<i&&(this.drawArea.style.overflowX="auto"),this.drawArea.clientHeight<n&&(this.drawArea.style.overflowY="auto");else if("fancy"==this.CONFIG.scrollbar){var s=t(this.drawArea);if(s.hasClass("ps-container"))s.find(".Treant").css({width:r,height:o}),s.perfectScrollbar("update");else{var h=s.wrapInner('<div class="Treant"/>'),a=h.find(".Treant");a.css({width:r,height:o}),h.perfectScrollbar()}}return this},setConnectionToParent:function(t,e){var i,n=t.stackParentId,r=n?this.nodeDB.get(n):t.parent(),o=e?this.getPointPathString(e):this.getPathString(r,t,n);return this.connectionStore[t.id]?(i=this.connectionStore[t.id],this.animatePath(i,o)):(i=this._R.path(o),this.connectionStore[t.id]=i,t.pseudo&&delete r.connStyle.style["arrow-end"],r.pseudo&&delete r.connStyle.style["arrow-start"],i.attr(r.connStyle.style),(t.drawLineThrough||t.pseudo)&&t.drawLineThroughMe(e)),this},getPointPathString:function(t){return["_M",t.x,",",t.y,"L",t.x,",",t.y,t.x,",",t.y].join(" ")},animatePath:function(t,e){return t.hidden&&"_"!==e.charAt(0)&&(t.show(),t.hidden=!1),t.animate({path:"_"===e.charAt(0)?e.substring(1):e},this.CONFIG.animation.connectorsSpeed,this.CONFIG.animation.connectorsAnimation,function(){"_"===e.charAt(0)&&(t.hide(),t.hidden=!0)}),this},getPathString:function(t,e,i){var n=t.connectorPoint(!0),r=e.connectorPoint(!1),o=this.CONFIG.rootOrientation,s=t.connStyle.type,h={},a={};"NORTH"==o||"SOUTH"==o?(h.y=a.y=(n.y+r.y)/2,h.x=n.x,a.x=r.x):("EAST"==o||"WEST"==o)&&(h.x=a.x=(n.x+r.x)/2,h.y=n.y,a.y=r.y);var l,d,c=n.x+","+n.y,u=h.x+","+h.y,f=a.x+","+a.y,p=r.x+","+r.y,g=(h.x+a.x)/2+","+(h.y+a.y)/2;if(i){if(d="EAST"==o||"WEST"==o?r.x+","+n.y:n.x+","+r.y,"step"==s||"straight"==s)l=["M",c,"L",d,"L",p];else if("curve"==s||"bCurve"==s){var m,v=t.connStyle.stackIndent;"NORTH"==o?m=r.x-v+","+(r.y-v):"SOUTH"==o?m=r.x-v+","+(r.y+v):"EAST"==o?m=r.x+v+","+n.y:"WEST"==o&&(m=r.x-v+","+n.y),l=["M",c,"L",m,"S",d,p]}}else"step"==s?l=["M",c,"L",u,"L",f,"L",p]:"curve"==s?l=["M",c,"C",u,f,p]:"bCurve"==s?l=["M",c,"Q",u,g,"T",p]:"straight"==s&&(l=["M",c,"L",c,p]);return l.join(" ")},setNeighbors:function(t,e){t.leftNeighborId=this.lastNodeOnLevel[e],t.leftNeighborId&&(t.leftNeighbor().rightNeighborId=t.id),this.lastNodeOnLevel[e]=t.id},calcLevelDim:function(t,e){this.levelMaxDim[e]?(this.levelMaxDim[e].width<t.width&&(this.levelMaxDim[e].width=t.width),this.levelMaxDim[e].height<t.height&&(this.levelMaxDim[e].height=t.height)):this.levelMaxDim[e]={width:t.width,height:t.height}},resetLevelData:function(){this.lastNodeOnLevel=[],this.levelMaxDim=[]},root:function(){return this.nodeDB.get(0)}};var o=function(t,i){function n(t,o){var s=r.createNode(t,o,i,null);if(t.children){if(s.children=[],t.childrenDropLevel&&t.childrenDropLevel>0)for(;t.childrenDropLevel--;){var h=e.cloneObj(s.connStyle);s=r.createNode("pseudo",s.id,i,null),s.connStyle=h,s.children=[]}var a=t.stackChildren&&!r.hasGrandChildren(t)?s.id:null;null!==a&&(s.stackChildren=[]);for(var l=0,d=t.children.length;d>l;l++)null!==a?(s=r.createNode(t.children[l],s.id,i,a),d>l+1&&(s.children=[])):n(t.children[l],s.id)}}this.db=[];var r=this;i.CONFIG.animateOnInit&&(t.collapsed=!0),n(t,-1),this.createGeometries(i)};o.prototype={createGeometries:function(t){for(var e=this.db.length;e--;)this.get(e).createGeometry(t)},get:function(t){return this.db[t]},createNode:function(t,e,i,n){var r=new s(t,this.db.length,e,i,n);return this.db.push(r),e>=0&&this.get(e).children.push(r.id),n&&(this.get(n).stackParent=!0,this.get(n).stackChildren.push(r.id)),r},getMinMaxCoord:function(t,e,i){for(var e=e||this.get(0),n=e.childrenCount(),i=i||{min:e[t],max:e[t]+("X"==t?e.width:e.height)};n--;){var r=e.childAt(n),o=r[t]+("X"==t?r.width:r.height),s=r[t];o>i.max&&(i.max=o),s<i.min&&(i.min=s),this.getMinMaxCoord(t,r,i)}return i},hasGrandChildren:function(t){for(var e=t.children.length;e--;)if(t.children[e].children)return!0}};var s=function(t,i,n,r,o){this.id=i,this.parentId=n,this.treeId=r.id,this.prelim=0,this.modifier=0,this.stackParentId=o,this.pseudo="pseudo"===t||t.pseudo,this.meta=t.meta||{},this.image=t.image||null,this.link=e.createMerge(r.CONFIG.node.link,t.link),this.connStyle=e.createMerge(r.CONFIG.connectors,t.connectors),this.drawLineThrough=t.drawLineThrough===!1?!1:t.drawLineThrough||r.CONFIG.node.drawLineThrough,this.collapsable=t.collapsable===!1?!1:t.collapsable||r.CONFIG.node.collapsable,this.collapsed=t.collapsed,this.text=t.text,this.nodeInnerHTML=t.innerHTML,this.nodeHTMLclass=(r.CONFIG.node.HTMLclass?r.CONFIG.node.HTMLclass:"")+(t.HTMLclass?" "+t.HTMLclass:""),this.nodeHTMLid=t.HTMLid};s.prototype={Tree:function(){return n.get(this.treeId)},dbGet:function(t){return this.Tree().nodeDB.get(t)},size:function(){var t=this.Tree().CONFIG.rootOrientation;return this.pseudo?-this.Tree().CONFIG.subTeeSeparation:"NORTH"==t||"SOUTH"==t?this.width:"WEST"==t||"EAST"==t?this.height:void 0},childrenCount:function(){return this.collapsed||!this.children?0:this.children.length},childAt:function(t){return this.dbGet(this.children[t])},firstChild:function(){return this.childAt(0)},lastChild:function(){return this.childAt(this.children.length-1)},parent:function(){return this.dbGet(this.parentId)},leftNeighbor:function(){return this.leftNeighborId?this.dbGet(this.leftNeighborId):void 0},rightNeighbor:function(){return this.rightNeighborId?this.dbGet(this.rightNeighborId):void 0},leftSibling:function(){var t=this.leftNeighbor();return t&&t.parentId==this.parentId?t:void 0},rightSibling:function(){var t=this.rightNeighbor();return t&&t.parentId==this.parentId?t:void 0},childrenCenter:function(t){var e=this.firstChild(),i=this.lastChild();return e.prelim+(i.prelim-e.prelim+i.size())/2},collapsedParent:function(){var t=this.parent();return t?t.collapsed?t:t.collapsedParent():!1},leftMost:function(t,e){if(t>=e)return this;if(0!==this.childrenCount())for(var i=0,n=this.childrenCount();n>i;i++){var r=this.childAt(i).leftMost(t+1,e);if(r)return r}},connectorPoint:function(t){var e=this.Tree().CONFIG.rootOrientation,i={};return this.stackParentId&&("NORTH"==e||"SOUTH"==e?e="WEST":("EAST"==e||"WEST"==e)&&(e="NORTH")),"NORTH"==e?(i.x=this.pseudo?this.X-this.Tree().CONFIG.subTeeSeparation/2:this.X+this.width/2,i.y=t?this.Y+this.height:this.Y):"SOUTH"==e?(i.x=this.pseudo?this.X-this.Tree().CONFIG.subTeeSeparation/2:this.X+this.width/2,i.y=t?this.Y:this.Y+this.height):"EAST"==e?(i.x=t?this.X:this.X+this.width,i.y=this.pseudo?this.Y-this.Tree().CONFIG.subTeeSeparation/2:this.Y+this.height/2):"WEST"==e&&(i.x=t?this.X+this.width:this.X,i.y=this.pseudo?this.Y-this.Tree().CONFIG.subTeeSeparation/2:this.Y+this.height/2),i},pathStringThrough:function(){var t=this.connectorPoint(!0),e=this.connectorPoint(!1);return["M",t.x+","+t.y,"L",e.x+","+e.y].join(" ")},drawLineThroughMe:function(t){var i=t?this.Tree().getPointPathString(t):this.pathStringThrough();this.lineThroughMe=this.lineThroughMe||this.Tree()._R.path(i);var n=e.cloneObj(this.connStyle.style);delete n["arrow-start"],delete n["arrow-end"],this.lineThroughMe.attr(n),t&&(this.lineThroughMe.hide(),this.lineThroughMe.hidden=!0)},addSwitchEvent:function(t){var i=this;e.addEvent(t,"click",function(e){return e.preventDefault(),i.Tree().CONFIG.callback.onBeforeClickCollapseSwitch.apply(i,[t,e])===!1?!1:(i.toggleCollapse(),void i.Tree().CONFIG.callback.onAfterClickCollapseSwitch.apply(i,[t,e]))})},toggleCollapse:function(){var t=this.Tree();if(!t.inAnimation){t.inAnimation=!0,this.collapsed=!this.collapsed,e.toggleClass(this.nodeDOM,"collapsed",this.collapsed),t.positionTree();var i=this;setTimeout(function(){t.inAnimation=!1,t.CONFIG.callback.onCollapseFinished.apply(t,[i])},t.CONFIG.animation.nodeSpeed>t.CONFIG.animation.connectorsSpeed?t.CONFIG.animation.nodeSpeed:t.CONFIG.animation.connectorsSpeed)}},hide:function(i){this.nodeDOM.style.overflow="hidden";var n=this.Tree(),r=n.CONFIG,o={left:i.x,top:i.y};if(this.hidden||(o.width=o.height=0),this.startW&&this.startH||(this.startW=e.getOuterWidth(this.nodeDOM),this.startH=e.getOuterHeight(this.nodeDOM)),!this.positioned||this.hidden?(this.nodeDOM.style.visibility="hidden",t?t(this.nodeDOM).css(o):(this.nodeDOM.style.left=o.left+"px",this.nodeDOM.style.top=o.top+"px"),this.positioned=!0):t?t(this.nodeDOM).animate(o,r.animation.nodeSpeed,r.animation.nodeAnimation,function(){this.style.visibility="hidden"}):(this.nodeDOM.style.left=o.left+"px",this.nodeDOM.style.top=o.top+"px",this.nodeDOM.style.visibility="hidden"),this.lineThroughMe){var s=n.getPointPathString(i);this.hidden?this.lineThroughMe.attr({path:s}):n.animatePath(this.lineThroughMe,n.getPointPathString(i))}this.hidden=!0},show:function(){this.nodeDOM.style.visibility="visible";var e={left:this.X,top:this.Y},i=this.Tree(),n=i.CONFIG;this.hidden&&(e.width=this.startW,e.height=this.startH),t?t(this.nodeDOM).animate(e,n.animation.nodeSpeed,n.animation.nodeAnimation,function(){this.style.overflow=""}):(this.hidden&&(this.nodeDOM.style.height=e.height+"px",this.nodeDOM.style.width=e.width+"px"),this.nodeDOM.style.left=e.left+"px",this.nodeDOM.style.top=e.top+"px",this.nodeDOM.style.overflow=""),this.lineThroughMe&&i.animatePath(this.lineThroughMe,this.pathStringThrough()),this.hidden=!1}},s.prototype.createGeometry=function(e){if(0===this.id&&e.CONFIG.hideRootNode)return this.width=0,void(this.height=0);var i,n=e.drawArea,r=this.link.href?document.createElement("a"):document.createElement("div");if(r.className=this.pseudo?"pseudo":s.CONFIG.nodeHTMLclass,this.nodeHTMLclass&&!this.pseudo&&(r.className+=" "+this.nodeHTMLclass),this.nodeHTMLid&&(r.id=this.nodeHTMLid),this.link.href&&(r.href=this.link.href,r.target=this.link.target),this.meta&&t&&t(r).data("meta",this.meta),t&&t(r).data("treenode",this),!this.pseudo){if(this.nodeInnerHTML)if("#"===this.nodeInnerHTML.charAt(0)){var o=document.getElementById(this.nodeInnerHTML.substring(1));o?(r=o.cloneNode(!0),r.id+="-clone",r.className+=" node"):r.innerHTML="<b> Wrong ID selector </b>"}else r.innerHTML=this.nodeInnerHTML;else if(this.image&&(i=document.createElement("img"),i.src=this.image,r.appendChild(i)),this.text)for(var h in this.text)if(s.CONFIG.textClass[h]){var a=document.createElement(this.text[h].href?"a":"p");this.text[h].href&&(a.href=this.text[h].href,this.text[h].target&&(a.target=this.text[h].target)),a.className=s.CONFIG.textClass[h],a.appendChild(document.createTextNode(this.text[h].val?this.text[h].val:this.text[h]instanceof Object?"'val' param missing!":this.text[h])),r.appendChild(a)}if(this.collapsed||this.collapsable&&this.childrenCount()&&!this.stackParentId){var l=document.createElement("a");l.className="collapse-switch",r.appendChild(l),this.addSwitchEvent(l),this.collapsed&&(r.className+=" collapsed"),e.CONFIG.callback.onCreateNodeCollapseSwitch.apply(e,[this,r,l])}}e.CONFIG.callback.onCreateNode.apply(e,[this,r]),n.appendChild(r),this.width=r.offsetWidth,this.height=r.offsetHeight,this.nodeDOM=r,e.imageLoader.processNode(this)},r.CONFIG={maxDepth:100,rootOrientation:"NORTH",nodeAlign:"CENTER",levelSeparation:30,siblingSeparation:30,subTeeSeparation:30,hideRootNode:!1,animateOnInit:!1,animateOnInitDelay:500,padding:15,scrollbar:"native",connectors:{type:"curve",style:{stroke:"black"},stackIndent:15},node:{link:{target:"_self"}},animation:{nodeSpeed:450,nodeAnimation:"linear",connectorsSpeed:450,connectorsAnimation:"linear"},callback:{onCreateNode:function(){},onCreateNodeCollapseSwitch:function(){},onAfterPositionNode:function(){},onBeforePositionNode:function(){},onCollapseFinished:function(t){},onAfterClickCollapseSwitch:function(t,e){},onBeforeClickCollapseSwitch:function(t,e){},onTreeLoaded:function(t){}}},s.CONFIG={nodeHTMLclass:"node",textClass:{name:"node-name",title:"node-title",desc:"node-desc",contact:"node-contact"}};var h={make:function(t){var e,i=t.length;for(this.jsonStructure={chart:null,nodeStructure:null};i--;)e=t[i],e.hasOwnProperty("container")?this.jsonStructure.chart=e:e.hasOwnProperty("parent")||e.hasOwnProperty("container")||(this.jsonStructure.nodeStructure=e,e.myID=this.getID());return this.findChildren(t),this.jsonStructure},findChildren:function(t){for(var e=[0];e.length;){for(var i=e.pop(),n=this.findNode(this.jsonStructure.nodeStructure,i),r=0,o=t.length,s=[];o>r;r++){var h=t[r];h.parent&&h.parent.myID==i&&(h.myID=this.getID(),delete h.parent,s.push(h),e.push(h.myID))}s.length&&(n.children=s)}},findNode:function(t,e){var i,n;if(t.myID===e)return t;if(t.children)for(i=t.children.length;i--;)if(n=this.findNode(t.children[i],e))return n},getID:function(){var t=0;return function(){return t++}}()},a=function(e,i,r){e instanceof Array&&(e=h.make(e)),r&&(t=r);var o=n.createTree(e);o.positionTree(i),this.tree_id=o.id};a.prototype.destroy=function(){n.destroy(this.tree_id)},window.Treant=a}();